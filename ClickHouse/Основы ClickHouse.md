# Источники
1) https://clickhouse.com/docs/ru/tutorial?ysclid=mamnuisrw166081382

# Введение
ClickHouse - это высокопроизводительная аналитическая СУБД с открытым исходным кодом, разработанная компанией Яндекс. Она широко используется в различных сферах благодаря своей эффективности и функциональности.  

ClickHouse ценится по нескольким причинам:  
* `Производительность` Эта СУБД способна значительно сжимать данные и обрабатывать типичные запросы быстрее, чем многие другие системы. Её архитектура оптимизирована для работы с большими объемами данных.  
* `Масштабируемость` ClickHouse поддерживает распределённую работу на нескольких серверах, что позволяет легко масштабировать систему по мере роста нагрузки.  
* `Надёжность` В ClickHouse реализованы мощные инструменты для резервного копирования и восстановления данных, что обеспечивает высокую степень надёжности и устойчивости к сбоям.  

Пример работы со столбцовыми СУБД
Рассмотрим, как устроены столбцовые СУБД на примере анализа данных в крупном банке. Представьте, что вы работаете с таблицей клиентов, которая содержит личные данные, номера счетов и договоров.  

`Классическая строковая СУБД ` 
| last_name | first_name | middle_name   | age | card_nmb         |
|-----------|------------|----------------|-----|------------------|
| Иванов    | Сидор      | Петрович       | 25  | 1234234400007777 |
| Петров    | Иван       | Сидорович      | 35  | 5555667300004835 |
| Сидоров   | Пётр       | Иванович       | 45  | 2543165800002354 |

Это стандартное представление: одна строка — один клиент.  

`Столбцовая СУБД`  
| last_name | Иванов | Петров | Сидоров |
|-----------|--------|--------|---------|
| first_name | Сидор  | Иван   | Пётр    |
| middle_name | Петрович | Сидорович | Иванович |
| age       | 25     | 35     | 45      |
| card_nmb  | 1234 2344 0000 7777 | 5555 6673 0000 4835 | 2543 1658 0000 2354 |

На первый взгляд разница кажется незначительной — таблица просто «повернута» на 90 градусов. Однако у такого способа хранения данных есть существенные преимущества.  

`Преимущества столбцовых СУБД`
* Эффективная обработка агрегатных запросов (суммы, средние значения, подсчёты).  
* Лучшая компрессия данных , так как одинаковые типы данных хранятся вместе.  
* Более высокая производительность при анализе больших объёмов данных .  
* Упрощённая работа с отдельными столбцами без необходимости загружать всю строку.  

## Недостатки столбцовых СУБД

Каждый инструмент имеет свои сильные и слабые стороны, и столбцовые СУБД не являются исключением. Их архитектура особенно эффективна для задач, где требуется:  
* Обработка всей таблицы или её значимой части;  
* Получение обобщённой информации вместо конкретных записей;  
* Анализ небольшого количества столбцов из множества доступных.  

Однако у такой структуры есть и ограничения. Основной недостаток столбцовой СУБД — низкая производительность при записи новых данных . Поскольку данные хранятся по столбцам, добавление новой строки требует записи значений в каждый из столбцов, что может быть медленнее, чем в строковых системах.  

Кроме того, редактирование уже существующих данных в столбцовой СУБД становится значительно сложнее. В отличие от строковых СУБД, где изменение одной строки не влияет на другие, в столбцовой модели изменения затрагивают весь столбец, что увеличивает нагрузку на систему и может привести к снижению производительности.  

Таким образом, столбцовые СУБД лучше подходят для аналитических задач, но менее эффективны для операций, связанных с частыми вставками и обновлениями данных.  

## Особенности ClickHouse
ClickHouse — это СУБД, которая относится к столбцовому типу. В этой системе архитектура столбцов дополнительно оптимизирована для работы с аналитическими запросами, что делает её особенно эффективной при обработке больших объёмов данных.  

Одной из важных особенностей ClickHouse является жёсткая типизация всех колонок. Это означает, что в каждом поле хранятся значения одного типа и одинаковой длины. Такой подход позволяет минимизировать использование памяти, так как не требуется выделять дополнительные байты на описание формата данных.  

Кроме того, ClickHouse поддерживает распределённую обработку данных . Для повышения надёжности используется репликация — данные копируются на несколько серверов, что обеспечивает отказоустойчивость. Также реализовано шардирование , при котором части таблицы распределяются между разными узлами, что ускоряет доступ к данным и улучшает производительность.  

Однако из-за этих дополнительных возможностей синтаксис SQL в ClickHouse отличается от стандартного . Например, в нём появляются новые правила определения структуры таблиц, а также специфические функции, которых нет в традиционных СУБД. Это может потребовать от пользователя дополнительного обучения, но в то же время делает ClickHouse мощным инструментом для аналитических задач.  